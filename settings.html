<div id="swarm_settings" class="extension_settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>SwarmUI Extension Settings</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <label for="swarm_url">SwarmUI Base URL (e.g., http://localhost:7801):</label>
            <input id="swarm_url" class="text_pole" type="text" value="http://localhost:7801" />
            <label for="swarm_session_id">Session ID (optional, leave blank to auto-generate):</label>
            <input id="swarm_session_id" class="text_pole" type="text" placeholder="Auto-generate if blank" />
            <label for="swarm_llm_prompt">Custom LLM Prompt Template (use {description} for messages):</label>
            <textarea id="swarm_llm_prompt" class="textarea_compact" rows="4">Generate a detailed, descriptive prompt for an image generation AI based on this scene: {description}</textarea>
            <label for="swarm_append_prompt"><input id="swarm_append_prompt" type="checkbox" checked /> Append generated prompt to current SwarmUI prompt (instead of replacing)</label>
            <label for="swarm_use_raw"><input id="swarm_use_raw" type="checkbox" /> Use generateRaw (bypasses system instructions and character card)</label>
            <label for="swarm_message_count">Number of messages to include (when using generateRaw):</label>
            <input id="swarm_message_count" class="text_pole" type="number" min="1" max="50" value="5" />
            <label for="swarm_test_mode"><input id="swarm_test_mode" type="checkbox" /> Test mode: Only generate and display prompt (don't create image)</label>
            <small>Note: When using generateRaw, text before {description} becomes the system prompt, {description} is replaced with the conversation messages, and any text after {description} is added to the user prompt.</small>
        </div>
    </div>
</div>